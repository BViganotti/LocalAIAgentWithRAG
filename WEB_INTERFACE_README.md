# Content Agent Web Interface

A clean, responsive web interface for viewing and reading articles generated by the Enhanced Content Agent pipeline.

## 🌐 Features

### 📚 Article Browsing
- **Homepage**: View recent articles with beautiful card layouts
- **Platform Filtering**: Browse articles by platform (LinkedIn, Twitter, Reddit, Newsletter)
- **Search Functionality**: Search articles by topic or keywords
- **Responsive Design**: Optimized for desktop and mobile viewing

### 📄 Article Display
- **Rich Formatting**: Platform-appropriate content formatting
- **Metadata Display**: Quality scores, brand scores, research data
- **Copy-Ready Content**: Raw content ready for platform posting
- **Detailed Analytics**: Optimization iterations, execution times, pipeline data

### 🎨 User Experience
- **Modern UI**: Gradient backgrounds, glass morphism effects, smooth animations
- **Platform Icons**: Visual platform identification (💼 LinkedIn, 🐦 Twitter, 🔴 Reddit, 📧 Newsletter)
- **Responsive Layout**: Grid layouts that adapt to screen size
- **Easy Navigation**: Intuitive navigation between articles and platforms

## 🚀 Quick Start

### 1. Start the Web Interface
```bash
python3 web_app.py
```
The server will start on `http://localhost:3600`

### 2. Generate Sample Content (Optional)
```python
# Run this to create sample articles for testing
python3 -c "
from database import get_database
import json
from datetime import datetime

db = get_database()
db.connect()
# Sample content creation code here
db.disconnect()
"
```

### 3. Generate Real Content
```bash
# Use the enhanced pipeline to generate real articles
python3 main.py
# Select options to generate content for different platforms
```

## 📊 Database Integration

### Schema
The web interface reads from the `generated_content` table:
```sql
CREATE TABLE generated_content (
    id SERIAL PRIMARY KEY,
    platform VARCHAR(20) NOT NULL CHECK (platform IN ('reddit', 'linkedin', 'twitter', 'newsletter')),
    topic_source VARCHAR(255) NOT NULL,
    topic_title VARCHAR(500) NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    metadata JSONB
);
```

### Metadata Structure
Articles include rich metadata from the enhanced pipeline:
```json
{
  "content_type": "educational",
  "tone": "professional", 
  "word_count": 168,
  "char_count": 1158,
  "quality_score": 8.2,
  "brand_score": 0.88,
  "optimization_iterations": 1,
  "research_enhanced": true,
  "quality_metrics": {
    "engagement_potential": 8.5,
    "readability": 8.0,
    "relevance": 8.3
  },
  "brand_metrics": {
    "voice_alignment": 0.90,
    "compliance_check": 0.95,
    "originality_score": 0.85
  }
}
```

## 🎯 API Endpoints

### Web Pages
- `GET /` - Homepage with recent articles
- `GET /article/<id>` - Individual article view
- `GET /platform/<platform>` - Platform-specific articles
- `GET /search?q=<query>` - Search results

### API Endpoints  
- `GET /api/stats` - JSON statistics about generated content

## 🧪 Testing

The web interface includes comprehensive Playwright tests that verify:

### ✅ Functionality Tested
- **Homepage Loading**: Title, navigation, article cards
- **Article Detail Pages**: Content display, metadata, copy functionality
- **Platform Pages**: Filtering and platform-specific views
- **Search Functionality**: Query processing and results display
- **Responsive Design**: Mobile and desktop layouts
- **Database Integration**: Content retrieval and formatting

### Running Tests
```bash
# Install test dependencies
pip3 install playwright
playwright install chromium

# Run the test suite
python3 test_web_interface.py
```

## 🎨 Design Features

### Visual Design
- **Gradient Backgrounds**: Beautiful purple-blue gradients
- **Glass Morphism**: Translucent cards with backdrop blur
- **Smooth Animations**: Hover effects and transitions
- **Typography**: Modern system fonts with great readability

### Platform-Specific Formatting
- **LinkedIn**: Professional formatting with clear structure
- **Twitter**: Hashtag highlighting and concise display  
- **Reddit**: Community-friendly formatting with discussion focus
- **Newsletter**: Rich formatting with headers and sections

### Responsive Features
- **Mobile-First**: Optimized for mobile viewing
- **Grid Layouts**: Adaptive layouts for different screen sizes
- **Touch-Friendly**: Large buttons and touch targets
- **Fast Loading**: Optimized images and efficient queries

## 🔧 Configuration

### Database Connection
Update `database.py` connection parameters:
```python
DatabaseManager(
    host="localhost",
    port=5433, 
    database="content_agent",
    user="agent_user",
    password="agent_pass"
)
```

### Web Server Settings
Update `web_app.py` for production:
```python
app.run(
    host='0.0.0.0',  # Accept external connections
    port=3600,
    debug=False      # Disable debug mode
)
```

## 📱 Screenshots

The interface includes:
- Modern card-based article listings
- Detailed article views with copy-ready content
- Platform-specific filtering and icons
- Search functionality with highlighted results
- Mobile-responsive layouts
- Rich metadata display

## 🚀 Production Deployment

For production use:

1. **Use a Production Server**: Replace Flask development server with Gunicorn or uWSGI
2. **Enable HTTPS**: Use SSL certificates for secure connections
3. **Database Optimization**: Add connection pooling and query optimization
4. **Static File Serving**: Use nginx for static file delivery
5. **Error Monitoring**: Add error tracking and monitoring

## 🌟 Integration with Enhanced Pipeline

The web interface seamlessly displays data from the Enhanced Content Agent's 10-stage pipeline:

- **Stage 3 - Enhanced Research**: Shows fact-checking and expert quotes data
- **Stage 6 - Quality Assessment**: Displays quality scores and metrics  
- **Stage 7 - Brand Consistency**: Shows brand alignment and compliance scores
- **Stage 8 - Content Optimization**: Indicates optimization iterations and improvements

This provides full visibility into the AI-powered content generation process!